<html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Vanik Karslian - DWH</title><meta name=description content="Personal homepage"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet async href=/fontawesome-free-5.12.1-web/css/all.css><script src=/self/js/lazysizes.min.js async></script><link rel=apple-touch-icon sizes=180x180 href="/self/img/icons/favicon/apple-touch-icon.png?v=2"><link rel=icon type=image/png sizes=32x32 href="/self/img/icons/favicon/favicon-32x32.png?v=2"><link rel=icon type=image/png sizes=16x16 href="/self/img/icons/favicon/favicon-16x16.png?v=2"><link rel=manifest href="/self/img/icons/favicon/site.webmanifest?v=2"><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css integrity=sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script><link href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Montserrat:400,700" rel=stylesheet><link rel=stylesheet async href=/self/css/custom.css><script>var remark_config={host:"",site_id:'',components:['embed'],max_shown_comments:20,theme:'light',locale:'EN',show_email_subscription:false};(function(c){for(var i=0;i<c.length;i++){var d=document,s=d.createElement('script');s.src=remark_config.host+'/web/'+c[i]+'.js';s.defer=true;(d.head||d.body).appendChild(s);}})(remark_config.components||['embed']);</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-73265627-3','auto');ga('send','pageview');}</script><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=/self/js/load-photoswipe.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin=anonymous></script><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div></head><body><nav class="navbar navbar-expand-sm navbar-light font-weight-bold border-bottom"><div class=navbar-header><a class=navbar-brand href=https://karslian.com/en>Vanik Karslian</a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#collapsibleNavbar>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=collapsibleNavbar><ul class="navbar-nav ml-auto"><li class="nav-item active"><a class="nav-link navbar-dark" href=https://karslian.com/articles/>Articles</a></li><li class="nav-item active"><a class="nav-link navbar-dark" href=https://karslian.com/podcasts/>Podcasts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" id=dropdownMenuButton role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><i class="fas fa-globe"></i>EN</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=dropdownMenuButton><a class=dropdown-item><i class="fas fa-flag-en"></i><b>English</b></a></div></li></ul></div></nav><div class="jumbotron header-font border"><div class=text-center><a href=https://karslian.com/en><img class="lazyload rounded-circle rounded-50 border-white bg-white mx-auto avatar-100" data-src=https://karslian.com/self/img/avatar_.jpg></a>
<a href=https://karslian.com/en><h1 class="text-dark font-weight-bold">Vanik Karslian</h1></a><h2>Seniour Data engineer, DevOps.<br>curious</h2></div></div>Overview of the data architectures<p>The Data Еnignеering field is a relatively a new area of IT,
which is actively developing within the last years.<br>The field is dynamically changing, and those changes also reflect in the emerging
approaches in the architecture. In this article we will briefly cover some of
the most popular DWH architectures.</p><h1 id=independent-data-mart-architecture>Independent Data Mart Architecture</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/independent-data-marts.png alt=independent-data-mart>
In this architecture, the data marts are highly adjusted to the needs of
the specific departments. Each data mart is significantly customised per
department case. The situation when different departments repeat the work
of other department in a slightly different way is quite typical for this
architecture. As a consequence, when two department are discussing a certain
KPI they usually do not match to each other (since they are cacluclated in
a slightly different way), which is a source of various
conflicts and misunderstandings between the departments.
The Independent Data Marts have one key benefit, the development of
the Marts does not require time-consuming communication across departments.
The latter is a big time-saver in many corporate environments.</p><h1 id=hub-and-spoke-corporate-information-factory>Hub-and-Spoke Corporate Information Factory</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/hub-and-spoke.png alt=independent-data-mart>
The Hub-and-Spoke Corporate Information Factory (CIF) is an approach advocated by
Bill Inmon. In this architecture, the data from all of the operational sources
first gets accumulated in a data layer which is called Enterprise Data Warehouse
(EDW). The data in EDW is always kept in 3-d normal form (3NF). The normalisation in
the EDW is a mandatory process in CIF architecture.
The subsequent data delivery processes usually convert the data from 3NF to the
dimensional models. But unlike the Kimballs dimensional modeling the models
in the Hub-and-Spoke architecture are Department-centric.
Thus, the Hub-and-Spoke has cons similar to Independent Data Marts- repeated
work in various departments, missmatching KPIs across departments, etc.
Additionally, it has yet another data layer EDW, that adds more complexity
on maintainance than solves the integrational issues.</p><h1 id=kimballs-dimensional-modeling>Kimballs Dimensional modeling</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/kimball.png alt>
In this architecture, proposed by Kimball the data processing is broken down
into two major steps:</p><ol><li>the backroom extract, where the data is collected from
the operations sources</li><li>the transformation and load environment</li><li>the front room with representation area.</li></ol><p>The key difference of the Kimballs approach is that the data models are build around
the business processes. Unlike the Department-centric architectures, the focus on
the business processes helps to avoid the code and data duplication. It also
prevents the cases when the KPIs are not matching between departments.
Additionally, the star-schemas in Kimballs architecture provide the
required flexibility when it comes to the reporting, and advance analytix.</p><h1 id=the-labmda-architecture>The Labmda architecture</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/lambda.png alt>
The raise of the labmda architecture correlates with the growth of the Big Data.
Particularly, with the emerge of the MapReduce solutions.
The Lambda architecture was significantly dictated by the business
willing to having access to the most latest data possible as well as having
a long and accurate history.</p><p>In this architecture, the streaming part is in charge of delivering the most
recent values. While the batch processing takes care of the long term reports.
Typically, the streaming and processing would require completely different set
of tools like ETL frameworks and Databases. Namely, for the streaming part a NoSQL
database like Mongo would have a good fit accompanied with streaming tools like
Kafka, PubSub or RabbitMQ.
While for the batch processing the teams would use Spark, HDFS, BigQuery, SnowFlake or
Redshift.
So different set of tools would obviously require from the team a lot of effort
on the maintainance. Since every change needs to be reflected in two independent
places.
In the mordern tools like Spark and DataFlow (apache beam) the boundaries between
the streaming and batch processing are vanishing. The recent versions of Sparks
allow to write stream processing, while DataFlow makes it possible to port the
streaming processing to the batch processing with minimal changes.</p><h1 id=kappa-architecture>Kappa architecture</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/kappa.png alt>
Kappa architecture emerged after when the industry realised the main cons of the
lambda architecture. Namely, the need to maintain two separate code bases with
separate stack of technologies. Since this setup makes the maintainance
highly complicated, time-consuming and error-prone.
The idea behind the Kappa architecture was to use the same stack of thechnologies
and same pipelines that would be able to work both in streaming and batch modes.
Typically, the Kappa architecture is based on Kafka queues where the that is
able to persist the stream of data for a period of time. The messages in the queue
can be processed as they arrive - streaming mode. Or, as a relatively big chunks-
the batch mode. The code base used to consume the messages in both modes is the same,
with slight adjustments.
Another benefit, that this architecture provides is that the engineers are able to
re-run the pipelines on the already processed data, by moving the pointer back in
time, thanks to the Kafka peristent queues. This comes in handy when a bug in
code might break the output results and reverted or fixed code can be
simply rescheduled.
The main downside of this architecture is it&rsquo;s complexity and the costs.</p><h1 id=data-mesh>Data mesh</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/data-mesh.png alt=independent-data-mart>
The data mesh architecture came out as a response to the classical centralised
data lakes and data warehouses. Data mesh instead is focused on decentralised data warehouses built around
the business-domains. The domain driven design is commonly used in software
architecture, data mesh is applying it to the data engineering space.
Here are some main points about the main conepts of the Data mesh:</p><ul><li>Domain-oriented decentralised data ownership and architecture</li><li>Data as a product</li><li>Self-serve data infrastructure as a platform</li><li>Federated computational governance</li></ul><h1 id=lakehouse>Lakehouse</h1><p><img src=/self/img/articles/2022-10-07-data-architectures/lakehouse.png alt>
One of the architectures that got a lot of attention in the recent years.
The lakehouse provides layers of data arrangements that creates a similar to data warhouse
experience, while keeping the data in object storage.
It combines the approaches used in the classic data warehouse, like
schema management, strict table structures, incremental updates, rollbacks and table history
and at the same time keeps the data in a raw object storage format typical for
the data lakes. The fact that the data is stored in a raw format,
provides a common ground which is required when a proprietary format is used by a storage.
Additionally, lakehouse architecture makes the data accessible in a near realtime
for the analytical tools.
It is also worth to mention that much of the data in a lakehouse might not have a
table structure imposed. The overhead of table structure maintainance might be added
only in the cases where it is required, the rest will be stored in a raw format, saving
both the storage and the cots.
In fact, many data warehouse solutions like BigQuery or Snowflake, do store the data in
a similar manner, but hide the comlexity of the files and metadata storage
management from the end user.</p><h1 id=summary>Summary</h1><p>Although, a good architecture is vital for any data warehouse solution,
it is really hard not only to engineer a good architecture, but even to define, what a good
architecture looks like. We can dive deep into details of how to define a
good architecture, but I prefer a much simple approach- typically u can simply see it
when an architecure is good.
There multiple approaches of how to engineer the architecure, in this article
we just briefly touched a surface of several architectural designs. In practice,
you would need find an architecture that feet the best for your particular case, mb
a combination of multiple approaches would be required. Again, it significantly
depends on a case. Thus, take your time, start with building high level view of
the all the components, and try to find the best techinques that fit your case.</p><footer class="footer card-footer text-secondary mt-auto"><div class=row><div class="col col-sm-9">&copy; 2022 Vanik Karslian</div><div class="col-12 col-sm-3 text-sm-right px-3"><a href=mailto:vanik.karslian@gmail.com class="text-nowrap text-secondary"><i class="fas fa-envelope fa-fw valign-middle" data-hint=Email></i></a><a href=https://www.linkedin.com/in/vanik-karslian/ class="text-nowrap text-secondary"><i class="fab fa-linkedin-in fa-fw valign-middle" data-hint=LinkedIn></i></a><a href=https://github.com/Vanik888 class="text-nowrap text-secondary"><i class="fab fa-github fa-fw valign-middle" data-hint=Github></i></a><a href=https://www.instagram.com/vanik_kars class="text-nowrap text-secondary"><i class="fab fa-instagram fa-fw valign-middle" data-hint=Instagram></i></a><a href=https://t.me/vanik_kars class="text-nowrap text-secondary"><i class="fab fa-telegram fa-fw valign-middle" data-hint=Telegram></i></a></div></div></footer></body></html>